#An example of polymorphism
#Expected output:
#42
#21
#12

_import:"utilities_lib"


Shape~{
	area~{}
	areaFn~virtual:area
}

Rectangle~{
	~Shape
	height~int
	length~int
	areaFn:@{height*length}
}

Triangle~{
	~Shape
	height~int
	length~int
	areaFn:@{height*length/2}
}

Circle~{
	~Shape
	radius~int
	areaFn:@{radius*radius*3}
}

;~{
        rect~Rectangle.{height:6 length:7}
        tri~Triangle.{height:6 length:7}
        circ~Circle.{radius:2}
        
        b0~bytes.24
        
        l~List:Shape.{
        	setBuffer:@b0
	        add.{
		        $:@rect ; $:@tri ; $:@circ ;
	        }
        }

        l.each:@{print.{d:area endl}}
}

