_import:"utilities_lib"


Greeter~{
        name~str
        Greet~{
                ;~{
                        print.{s:"Hello, " s:name c:"!" endl}
                }
        }
}

;~{
        greeter~Greeter
        print:"What is your name? "
        buff~bytes.20
        ch~int:0
        greeter.name.{
                set_buffer:@buff
                ch:getChar
                {ch != 10}?*{
                        write.c:ch
                        ch:getChar
                }
        }
        greeter.Greet
}

